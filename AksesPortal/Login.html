<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masuk Akun :: Sistem Penerimaan Peserta Didik Baru</title>

    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
    </style>
</head>

<body class="d-flex flex-column min-vh-100">

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, #3d5ce6 0%, #3f8cf0 100%);
            box-shadow: 0 8px 35px rgba(0, 0, 4, 0.5);
            position: relative;
            z-index: 3;">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <div class="bg-white rounded-circle d-flex align-items-center justify-content-center mr-2"
                    style="width: 40px; height: 40px;">
                    <i class="fas fa-graduation-cap text-primary"></i>
                </div>
                <div>
                    <span class="font-weight-bold d-block">School Payment App</span>
                    <small class="d-none d-md-block" style="font-size: 0.7rem; opacity: 0.9;">Sistem Penerimaan Peserta
                        Didik Baru</small>
                </div>
            </a>

            <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#mainNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="HalamanUtama.html">
                            <i class="fas fa-home mr-1"></i>Halaman Utama
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="PusatInformasi.html">
                            <i class="fas fa-info-circle mr-1"></i>Pusat Informasi
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="Pendaftaran.html">
                            <i class="fas fa-edit mr-1"></i>Pendaftaran
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link text-white font-weight-bold" href="Login.html">
                            <i class="fas fa-sign-in-alt mr-1"></i>Masuk Akun
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="KontakPanitia.html">
                            <i class="fas fa-address-book mr-1"></i>Kontak
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HEADER -->
    <div class="py-4 bg-white" style="box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); position: relative; z-index: 1;">
        <div class="container text-center">
            <h2 class="font-weight-bold text-dark mb-2">
                <i class="fas fa-user text-primary mr-3"></i>Login
            </h2>
            <p class="lead text-muted mb-0">PPDB School Payment App Tahun 2025/2026</p>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main class="d-flex flex-column flex-grow-1 justify-content-center align-items-center bg-light py-5"
        style="min-height: 15vh;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-7">

                    <!-- Alert Section -->
                    <div id="alert-box" class="alert alert-dismissible fade show mb-4" role="alert"
                        style="display: none;">
                        <div class="d-flex align-items-center">
                            <i id="alert-icon" class="fas fa-exclamation-circle fa-2x mr-3"></i>
                            <div class="flex-grow-1">
                                <strong id="alert-title" class="d-block mb-1"></strong>
                                <span id="alert-content"></span>
                            </div>
                        </div>
                        <button type="button" class="close" onclick="hideAlert()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    <!-- Login Card -->
                    <div class="card border-0 shadow-lg" style="border-radius: 27px; overflow: hidden;">
                        <div class="card-body p-5 bg-white text-center">
                            <div class="mb-4">
                                <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3 shadow-sm"
                                    style="width: 80px; height: 80px;">
                                    <i class="fas fa-user-shield text-white" style="font-size: 2rem;"></i>
                                </div>
                                <h4 class="font-weight-bold mb-1">Masuk Akun Pendaftar</h4>
                                <p class="text-muted mb-4">PPDB School Payment App 2025/2026</p>
                            </div>

                            <form id="login-form" class="text-left">
                                <!-- Nomor Pendaftaran -->
                                <div class="form-group mb-4">
                                    <label class="font-weight-bold">
                                        <i class="fas fa-id-card text-primary mr-2"></i>Nomor Pendaftaran
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input type="text" name="login_number" id="login-number"
                                        class="form-control form-control-lg border-primary bg-light" maxlength="16"
                                        placeholder="Masukkan nomor pendaftaran" autocomplete="off">
                                    <small id="login-number-feedback" class="text-danger d-none"></small>
                                </div>

                                <!-- Kata Sandi -->
                                <div class="form-group mb-4">
                                    <label class="font-weight-bold">
                                        <i class="fas fa-lock text-primary mr-2"></i>Kata Sandi
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="input-group">
                                        <input type="password" name="login_password" id="login-password"
                                            class="form-control form-control-lg border-primary bg-light" maxlength="16"
                                            placeholder="Masukkan kata sandi" autocomplete="off">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-primary" type="button" id="toggle-password"
                                                style="border-left: 2;">
                                                <i id="password-icon" class="fas fa-eye text-primary"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <small id="login-password-feedback" class="text-danger d-none"></small>
                                </div>

                                <!-- Lupa Password -->
                                <div class="form-group text-right mb-4">
                                    <a href="#" class="text-primary font-weight-medium" data-toggle="modal"
                                        data-target="#reset-dialog" style="text-decoration: none;">
                                        <i class="fas fa-question-circle mr-1"></i>Lupa kata sandi?
                                    </a>
                                </div>

                                <!-- Tombol Login - YANG BENAR -->
                                <button type="submit" id="btn-login-submit"
                                    class="btn btn-outline-primary btn-lg btn-block py-2"
                                    style="border-width: 1px; border-radius: 10px;">
                                    <span id="btn-login-icon"
                                        class="spinner-border spinner-border-sm mr-2 d-none"></span>
                                    <i id="btn-login-svg" class="fas fa-sign-in-alt mr-2"></i>
                                    <span id="btn-login-text">Masuk Sekarang</span>
                                </button>
                                
                                <!-- Link Daftar -->
                                <div class="text-center mt-4">
                                    <p class="text-muted mb-0">
                                        Belum punya akun?
                                        <a href="Pendaftaran.html" class="text-primary font-weight-bold"
                                            style="text-decoration: none;">
                                            Daftar Sekarang <i class="fas fa-arrow-right ml-1"></i>
                                        </a>
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Catatan Keamanan -->
                    <div class="text-center mt-4">
                        <small class="text-muted">
                            <i class="fas fa-shield-alt mr-1"></i>
                            Data Anda dilindungi dengan enkripsi SSL
                        </small>
                    </div>
                </div>
            </div>
        </div>
        <footer class="py-3 mt-5">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12 text-center">
                        <p class="mb-0 text-muted">Powered By PPDB &copy; 2022-2025</p>
                    </div>
                </div>
            </div>
        </footer>
    </main>


    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {

            // Toggle password visibility
            $('#toggle-password').click(function () {
                const passwordField = $('#login-password');
                const icon = $('#password-icon');

                if (passwordField.attr('type') === 'password') {
                    passwordField.attr('type', 'text');
                    icon.removeClass('fa-eye').addClass('fa-eye-slash');
                } else {
                    passwordField.attr('type', 'password');
                    icon.removeClass('fa-eye-slash').addClass('fa-eye');
                }
            });

            // Remove spaces from login number and password
            $('#login-number, #login-password').on({
                keydown: function (e) {
                    if (e.which === 32) {
                        return false;
                    }
                },
                change: function () {
                    this.value = this.value.replace(/\s/g, '');
                }
            });

            // Remove spaces from reset number
            $('#number').on({
                keydown: function (e) {
                    if (e.which === 32) {
                        return false;
                    }
                },
                change: function () {
                    this.value = this.value.replace(/\s/g, '');
                }
            });

            // Show alert function
            function showAlert(message, type = 'danger') {
                const alertBox = $('#alert-box');
                const alertIcon = $('#alert-icon');
                const alertTitle = $('#alert-title');
                const alertContent = $('#alert-content');

                alertBox.removeClass('alert-success alert-danger alert-warning alert-info');

                if (type === 'success') {
                    alertBox.addClass('alert-success');
                    alertIcon.removeClass().addClass('fas fa-check-circle fa-2x mr-3');
                    alertTitle.text('Berhasil!');
                } else if (type === 'danger') {
                    alertBox.addClass('alert-danger');
                    alertIcon.removeClass().addClass('fas fa-times-circle fa-2x mr-3');
                    alertTitle.text('Error!');
                } else if (type === 'warning') {
                    alertBox.addClass('alert-warning');
                    alertIcon.removeClass().addClass('fas fa-exclamation-triangle fa-2x mr-3');
                    alertTitle.text('Perhatian!');
                }

                alertContent.text(message);
                alertBox.fadeIn();

                setTimeout(function () {
                    alertBox.fadeOut();
                }, 5000);
            }

            // Hide alert function
            window.hideAlert = function () {
                $('#alert-box').fadeOut();
            };

            // Validate form function
            function validateForm(fieldId, fieldName) {
                const field = $('#' + fieldId);

                if (!field.val() || field.val() === '') {
                    field.addClass('is-invalid border-danger');
                    $('#' + fieldId + '-feedback').removeClass('d-none').text(fieldName + ' wajib diisi');
                    return false;
                } else {
                    field.removeClass('is-invalid border-danger');
                    $('#' + fieldId + '-feedback').addClass('d-none');
                    return true;
                }
            }

            // Submit button handler
            function submitButtonHandler() {
                const btn = $('#btn-login-submit');
                const icon = $('#btn-login-icon');
                const svg = $('#btn-login-svg');
                const text = $('#btn-login-text');

                if (btn.is(':disabled')) {
                    btn.prop('disabled', false);
                    icon.addClass('d-none');
                    svg.removeClass('d-none');
                    text.text('Masuk Sekarang');
                } else {
                    btn.prop('disabled', true);
                    svg.addClass('d-none');
                    icon.removeClass('d-none');
                    text.text('Memproses...');
                }
            }

            // Reset button handler
            function resetButtonHandler() {
                const btn = $('#confirm-reset');
                const icon = $('#btn-reset-icon');
                const svg = $('#btn-reset-svg');
                const text = $('#btn-reset-text');

                if (btn.is(':disabled')) {
                    btn.prop('disabled', false);
                    icon.addClass('d-none');
                    svg.removeClass('d-none');
                    text.text('Kirim Permintaan');
                } else {
                    btn.prop('disabled', true);
                    svg.addClass('d-none');
                    icon.removeClass('d-none');
                    text.text('Mengirim...');
                }
            }

            // Login form submission
            $('#login-form').on('submit', function (e) {
                e.preventDefault();

                let errors = [];

                // Reset all feedback
                $('.is-invalid').removeClass('is-invalid border-danger');
                $('.text-danger').addClass('d-none');

                submitButtonHandler();

                // Validate fields
                errors.push(validateForm('login-number', 'Nomor pendaftaran'));
                errors.push(validateForm('login-password', 'Kata sandi'));

                if ($.inArray(false, errors) !== -1) {
                    submitButtonHandler();
                    showAlert('Mohon lengkapi semua field yang wajib diisi', 'warning');
                    return false;
                }

                // Simulate API call
                setTimeout(function () {
                    const loginNumber = $('#login-number').val();
                    const loginPassword = $('#login-password').val();

                    // Check credentials
                    if (loginNumber === '123' && loginPassword === '123') {
                        showAlert('Login berhasil! Anda akan diarahkan ke dashboard...', 'success');
                        setTimeout(function () {
                            // Redirect to dashboard
                            window.location.href = 'MenuPendaftar.html';
                        }, 1500);
                    } else {
                        showAlert('Nomor pendaftaran atau kata sandi salah. Silakan coba lagi.', 'danger');
                        submitButtonHandler();
                    }
                }, 1500);
            });

            // Reset form submission
            $('#reset-form').on('submit', function (e) {
                e.preventDefault();

                let errors = [];

                // Reset all feedback
                $('.is-invalid').removeClass('is-invalid border-danger');
                $('.text-danger').addClass('d-none');

                resetButtonHandler();

                // Validate field
                errors.push(validateForm('number', 'Nomor pendaftaran'));

                if ($.inArray(false, errors) !== -1) {
                    resetButtonHandler();
                    return false;
                }

                // Simulate API call
                setTimeout(function () {
                    $('#reset-dialog').modal('hide');
                    showAlert('Tautan reset kata sandi telah dikirim ke email Anda. Silakan periksa inbox atau folder spam.', 'success');
                    $('#number').val('');
                    resetButtonHandler();
                }, 1500);
            });
        });
    </script>

</body>

</html>