<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPDB - Portal</title>
    <link rel="#" href="#">

    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- CSS -->
    <link rel="stylesheet" href="../css/Login.css">

</head>

<body>
    <div class="main-wrapper">
        <!-- Portal Section -->
        <div class="portal-section" id="portalSection">
            <div class="container py-5 portal-content">
                <!-- Logo -->
                <div class="text-center text-white mb-5 floating-icon">
                    <img src="https://mir-s3-cdn-cf.behance.net/user/276/68a1ad104069837.59e0af1bc07d0.jpg" alt="Logo"
                        class="img-fluid mb-3" style="max-width: 120px; filter: brightness(0) invert(1);">
                    <h2 class="font-weight-bold mb-2">Akeno System PPDB</h2>
                    <p class="lead mb-0">Solusi Sistem Keuangan Sekolah Modern</p>
                </div>

                <!-- Role Selection -->
                <div class="text-white text-center mb-4">
                    <h4 class="font-weight-bold mb-2">Pilih Role Anda</h4>
                    <p class="mb-4">Silakan pilih role untuk melanjutkan login</p>

                    <div class="row justify-content-center">
                        <div class="col-md-4 col-sm-6 mb-2">
                            <div class="role-card-portal" onclick="showLogin('admin')">
                                <i class="fas fa-user-tie fa-2x mb-2"></i>
                                <h5 class="font-weight-bold text-white mb-1">PETUGAS</h5>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 mb-4">
                            <div class="role-card-portal" onclick="showLogin('student')">
                                <i class="fas fa-user-graduate fa-2x mb-2"></i>
                                <h5 class="font-weight-bold text-white mb-1">SISWA</h5>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-box text-white text-center mb-5">
                    <div class="row">
                        <div class="col-4">
                            <h4 class="font-weight-bold mb-0">500+</h4>
                            <small>Sekolah</small>
                        </div>
                        <div class="col-4 border-left border-right border-white">
                            <h4 class="font-weight-bold mb-0">50K+</h4>
                            <small>Pengguna</small>
                        </div>
                        <div class="col-4">
                            <h4 class="font-weight-bold mb-0">99.9%</h4>
                            <small>Uptime</small>
                        </div>
                    </div>
                </div>

                <!-- Contact -->
                <div class="text-white text-center">
                    <p class="mb-1"><i class="fas fa-map-marker-alt mr-2"></i>Kota Bandung, Jawa Barat</p>
                    <p class="mb-1"><i class="fas fa-phone mr-2"></i>085157991825</p>
                    <p class="mb-3"><i class="fas fa-envelope mr-2"></i>admin@gmail.com</p>
                    <a href="https://www.instagram.com/schoolpay.id/" target="_blank"
                        class="btn btn-outline-light btn rounded-pill px-4">
                        <i class="fab fa-instagram mr-2"></i>Follow Us
                    </a>
                </div>
            </div>
        </div>

        <!-- Login Section (Hidden by default) -->
        <div class="login-section" id="loginSection">
            <div class="d-flex align-items-center justify-content-center h-100 p-4">
                <div style="max-width: 450px; width: 100%;">
                    <!-- Back Button -->
                    <div class="mb-3">
                        <button class="back-btn" onclick="hideLogin()">
                            <i class="fas fa-arrow-left"></i>
                            Kembali
                        </button>
                    </div>

                    <!-- Login Card -->
                    <div class="card card-login shadow-lg">
                        <div class="card-body p-4 p-md-5">
                            <div class="text-center mb-4">
                                <div class="mb-3" id="roleIcon">
                                    <i class="fas fa-user-circle fa-4x" style="color: #0093dd;"></i>
                                </div>
                                <h3 class="font-weight-bold mb-2">Masuk Akun</h3>
                                <p class="text-muted" id="roleText">Silakan login untuk melanjutkan</p>
                            </div>

                            <form method="POST" action="#" id="loginForm">
                                <div class="form-group mb-4">
                                    <label class="font-weight-bold small text-uppercase mb-2">Username atau
                                        Email</label>
                                    <div class="input-group input-group-lg">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text border">
                                                <i class="fas fa-user" style="color: #0093dd;"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control form-control-lg" id="usernameInput"
                                            placeholder="Masukkan username / email" required>
                                    </div>
                                </div>

                                <div class="form-group mb-4">
                                    <label class="font-weight-bold small text-uppercase mb-2">Password</label>
                                    <div class="input-group input-group-lg">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text border">
                                                <i class="fas fa-lock" style="color: #0093dd;"></i>
                                            </span>
                                        </div>
                                        <input type="password" class="form-control form-control-lg" id="passwordInput"
                                            placeholder="Masukkan Password" required>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="remember">
                                        <label class="custom-control-label text-muted" for="remember">Ingat saya</label>
                                    </div>
                                    <a href="LupaPassword.html" class="text-muted small">Lupa password?</a>
                                </div>
                                <!-- Tambahkan ini setelah "Lupa password?" dan sebelum button submit -->
                                <div id="errorMessage" class="alert alert-danger d-none mb-4" role="alert">
                                    <i class="fas fa-exclamation-circle mr-2"></i>
                                    <span id="errorText"></span>
                                </div>

                                <button type="submit"
                                    class="btn btn-login btn-primary btn-block btn font-weight-bold text-white">
                                    <i class="fas fa-sign-in-alt mr-2"></i>MASUK SEKARANG
                                </button>
                            </form>
                        </div>
                    </div>

                    <p class="text-center text-muted mt-3 small">
                        Â© 2022-2025 PPDB. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 4 JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function showLogin(role) {
            // Shrink portal & show login
            document.getElementById('portalSection').classList.add('shrink');
            document.getElementById('loginSection').classList.add('show');

            // Reset error message
            document.getElementById('errorMessage').classList.add('d-none');
            document.getElementById('usernameInput').value = '';
            document.getElementById('passwordInput').value = '';

            // Update role icon & text
            const roleIcon = document.getElementById('roleIcon');
            const roleText = document.getElementById('roleText');

            if (role === 'admin') {
                roleIcon.innerHTML = '<i class="fas fa-user-tie fa-4x" style="color: #0093dd;"></i>';
                roleText.textContent = 'Login sebagai Petugas';
                document.getElementById('loginForm').setAttribute('data-role', 'admin');
            } else {
                roleIcon.innerHTML = '<i class="fas fa-user-graduate fa-4x" style="color: #31bfd8;"></i>';
                roleText.textContent = 'Login sebagai Siswa/Wali Murid';
                document.getElementById('loginForm').setAttribute('data-role', 'student');
            }
        }

        function hideLogin() {
            document.getElementById('portalSection').classList.remove('shrink');
            document.getElementById('loginSection').classList.remove('show');
            document.getElementById('errorMessage').classList.add('d-none');
        }

        // Handle form submit
        document.addEventListener('DOMContentLoaded', function () {
            const loginForm = document.getElementById('loginForm');
            const usernameInput = document.getElementById('usernameInput');
            const passwordInput = document.getElementById('passwordInput');
            const errorMessage = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            const submitBtn = document.querySelector('.btn-login');
            const btnOriginalText = '<i class="fas fa-sign-in-alt mr-2"></i>MASUK SEKARANG';
            const btnLoadingText = '<span class="spinner-border mr-2" role="status" aria-hidden="true"></span>Memproses...';

            loginForm.addEventListener('submit', function (e) {
                e.preventDefault();

                const username = usernameInput.value.trim();
                const password = passwordInput.value;
                const role = loginForm.getAttribute('data-role');

                // Show loading
                submitBtn.disabled = true;
                submitBtn.innerHTML = btnLoadingText;
                errorMessage.classList.add('d-none');

                // Simulasi delay untuk loading (500ms)
                setTimeout(function () {
                    // Validasi login
                    if (role === 'admin') {
                        if (username === 'admin' && password === '123') {
                            window.location.href = '../Beranda/Beranda.html';
                        } else {
                            errorText.textContent = 'Username atau password salah untuk Petugas!';
                            errorMessage.classList.remove('d-none');
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = btnOriginalText;
                        }
                    } else if (role === 'student') {
                        if (username === 'siswa' && password === '123') {
                            window.location.href = '../AksesPortal/HalamanUtama.html';
                        } else {
                            errorText.textContent = 'Username atau password salah untuk Siswa!';
                            errorMessage.classList.remove('d-none');
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = btnOriginalText;
                        }
                    }
                }, 500);
            });

            // Hide error saat user mulai mengetik
            usernameInput.addEventListener('input', function () {
                errorMessage.classList.add('d-none');
            });

            passwordInput.addEventListener('input', function () {
                errorMessage.classList.add('d-none');
            });
        });
    </script>
</body>

</html>